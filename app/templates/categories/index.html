{% extends "base.html" %}
{% block title %}{{ context['title'] }}{% endblock %}
{% block head %}
{{ super() }}
<link rel="stylesheet" href = "{{ url_for('static', filename='css/categories.css') }}?ver={{ context['app_version'] }}">
{% endblock %}
{% block navbar_menu %}
<ul class="nav navbar-nav">
    {% if context['mode_gengroups'] %}<li class="active">{% else %}<li>{% endif %}
    <a href="{{ url_for('categories.gengroups') }}">Групповой Жанр</a></li>
    {% if context['mode_gentres'] %}<li class="active">{% else %}<li>{% endif %}
    <a href="{{ url_for('categories.gentres') }}">Жанр</a></li>
    {% if context['mode_ages'] %}<li class="active">{% else %}<li>{% endif %}
    <a href="#">Возраст</a></li>
</ul>
{% endblock %}
{% block page_content %}
<div class="container">
    <h3>{{ context['title'] }}</h3>
    {% if context['rootitems'] %}
    <div class="row">
        <div class="btn-group">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                {{ context['rootselected'].title }} <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                {% for item in context['rootitems'] %}
                {% if item.id == context['rootselected'].id %}
                <li class="active">
                {% else %}
                <li>
                {% endif %}
                <a href="#">{{ item.title }}</a>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endif %}
    {% if context['mode_gentres'] and not context['rootitems'] %}
        <div class="emptylist">Необходимо добавить групповой жанр</div>
    {% else %}
        <div class="row">
            <div class="col-sm-2">
                <button type="button" class="btn btn-danger btn-block" style="display: none;" id="deleteitems">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Удалить
                </button>
            </div>
            <div class="col-sm-2 col-sm-offset-8">
                <button type="button" class="btn btn-primary btn-block" id="additem">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Добавить
                </button>
            </div>
        </div>
        {% if context['listitems'] %}
        <div class="list-group">
            {% for item in context['listitems'] %}
            <button type="button" class="list-group-item">{{ item.title }}</button>
            {% endfor %}
        </div>
        {% else %}
        <div class="emptylist">Список пуст</div>
        {% endif %}
    {% endif %}
</div>
{% endblock %}
{% block scripts %}
{{ super() }}
<script src="{{ url_for('static', filename='js/categories/index.js') }}?ver={{ context['app_version'] }}"></script>
{% endblock %}
